<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Egghaed React Tutorial</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
    <script src="https://unpkg.com/prop-types@15.6.1/prop-types.js"></script>
    <script src="https://unpkg.com/vanilla-tilt@1.7.0/dist/vanilla-tilt.min.js"></script>
    <script type="text/babel">

      // Lesson 5 - interpolation and spread operator
      // const children = "Hello World";
      // const className = "container"
      // const props = {children, className}
      // const element = (
      //   <div {...props}/>
      // );


      // Lesson 6 - Render two elements side-by-side with React Fragments
      // const element = <div className="container">Hello World</div>;

      // const hello = <span className="container">Hello </span>;
      // const world = <span className="container">World</span>;
      // const helloWorld = [hello, world];
      // ReactDOM.render(helloWorld, document.getElementById('root'));

      // const hello = <span className="container">Hello </span>;
      // const world = <span className="container">World</span>;
      // const element = React.createElement(React.Fragment, null, hello, world)
      // ReactDOM.render(element, document.getElementById('root'));

      // const element = (
      //   <React.Fragment>
      //     <span>Hello</span> <span>World</span>
      //   </React.Fragment>
      //   )
      // OR
      // const element = (
      //   <>
      //     <span>Hello</span> <span>World</span>
      //   </>
      // )

      // Lesson 7 - Create a Simple Reusable React Component
      // const Message = (props) => <div className="message">{props.children}</div>
      // const element =
      //   <div className="container">
      //     <Message>Hello World</Message>
      //     <Message children="Goodbye World"/>
      //   </div>;

      // Lesson 8 - Create a Simple Reusable React Component
      // Prop types require a version for production - a babel plug in, so google that
      // What all this is is just a functional component (SayHello) with props. And we use propTypes so that we can validate the variable we get from the user, so we would know he gave us what was required
      // function SayHello({firstName, lastName}) {
      //   return (
      //     <div>
      //       Hello {firstName} {lastName}!
      //     </div>
      //   )
      // }
      //
      // SayHello.propTypes = {
      //   firstName: PropTypes.string.isRequired,
      //   lastName: PropTypes.string.isRequired
      // }
      //
      // const element = <SayHello firstName={"Vuk"} lastName={"Dakovic"} className="container"/>


      // Lesson 9 - Understand and use inter in JSX
      // function CharacterCount({text}) {
      //   return (
      //     <div>
      //       {'The text "' + text + '" has '}{text.length ? <strong>{text.length}</strong> : "No"}{' characters.'}
      //     </div>
      //   )
      // }
      //
      // const element = (
      //   <>
      //     <CharacterCount text="Hello World" />
      //     <CharacterCount text="" />
      //   </>
      // )


      // Lesson 10 - Rerender a react application
      // This lesson was about rendering the component, and figuring out what the best option is. React does most of the work for us, so we don't need to worry about rerendering uneeded data
      // function tick() {
      //   const time = new Date().toLocaleTimeString();
      //   const element = <div className="container">{time}</div>
      //
      //   ReactDOM.render(element, document.getElementById('root'))
      // }
      //
      // tick()
      // setInterval(tick, 1000);

      // Lesson 11 - Style react components with className and inline styles
      // This below, was how I made this work, but there is also a way with adding the exact same taken prop names
      // function Box(props) {
      //   return <div className={"box box--" + props.size} style={{fontStyle: "italic", backgroundColor: props.color}} children={props.size + " " +  props.color + " box"}/>
      // }

      // const element = (
      //   <div>
      //     <Box color="lightblue" size="small">Small blue box</Box>
      //     <Box color="pink" size="medium">Small pink box</Box>
      //     <Box color="orange" size="large">Small orange box</Box>
      //   </div>
      // )

      // function Box({className, style, ...rest}) {
      //   return <div className={"box " + className} style={{fontStyle: "italic", ...style}} {...rest}/>
      // }
      //
      // const element = (
      //   <div>
      //     <Box style={{backgroundColor: "lightblue"}} className="box--small">Small blue box</Box>
      //     <Box style={{backgroundColor: "pink"}} className="box--medium">Small pink box</Box>
      //     <Box style={{backgroundColor: "orange"}} className="box--large">Small orange box</Box>
      //   </div>
      // )

      // Lesson 12 - Use Event Handlers with React
      // In this lesson we leared that we can call on rerendering the entire app our selves with creating a function that does that, and adding that function to other methods
      // const state = {eventCount: 0, username: ""};
      //
      // function App() {
      //   return (
      //     <div>
      //       <p>There have been {state.eventCount} events.</p>
      //       <p><button onClick={() => setState({eventCount: state.eventCount + 1})}>Click me!</button></p>
      //       <p>You typed in: {state.username}</p>
      //       <p><input onChange={(event) => setState({username: event.target.value})}/></p>
      //     </div>
      //   )
      // }
      //
      // const setState = (newState) => {
      //   Object.assign(state, newState);
      //   renderApp();
      // }
      //
      // const renderApp = () => {
      //   ReactDOM.render(<App/>, document.getElementById('root'))
      // }
      //
      // renderApp();

      // Lesson 13 - Manage state in react components with useState hook & Lesson 14 - Manage side-effects in a React component with useEffect hook
      // In this lesson we used react hooks - useState to create state data and change it, and useEffect to create sideEffects of state changing
      // function App () {
      //   const [name, setName] = React.useState(window.localStorage.getItem("name") ? window.localStorage.getItem("name") : "");
      //   React.useEffect(() => {
      //     window.localStorage.setItem("name", name)
      //   })
      //   return (
      //     <div>
      //       <form>
      //         <label htmlFor="name">Name: </label>
      //         <input id="name" value={name} onChange={() => {setName(event.target.value)}}/>
      //       </form>
      //       {name ? <strong>Hello {name}</strong> : "Please type in your name"}
      //     </div>
      //   )
      // }

      // Lesson 15 - Use a lazy initializer with useState - we use this when we put a function as the initial state in useState - which means that the useState will only call it when it is needed
      // Lesson 16 - Manage the useEffect dependency array - we use the dependency array to make sure that the useEffect only happens when it should (when only some part of the state changes)
      // function Greeting () {
      //   const [name, setName] = React.useState(() =>
      //     window.localStorage.getItem("name") || ''
      //   );
      //
      //   React.useEffect(() => {
      //     window.localStorage.setItem("name", name);
      //     console.log("hello");
      //   }, [name]);
      //   return (
      //     <div>
      //       <form>
      //         <label htmlFor="name">Name: </label>
      //         <input id="name" value={name} onChange={() => {setName(event.target.value)}}/>
      //       </form>
      //       {name ? <strong>Hello {name}</strong> : "Please type in your name"}
      //     </div>
      //   )
      // }
      //
      // function App () {
      //   const [clicked, setClicked] = React.useState(0);
      //   return (
      //     <>
      //     <button onClick={() => setClicked(clicked + 1)}>{clicked}</button>
      //     <Greeting />
      //     </>
      //   );
      // }

      // Lesson 17 - Create reusable custom hooks
      // In this lesson we created a separate function to save data in the local storage and then we called that function in other places
      // function useLocalStorageState (key, defaultValue = "") {
      //   const [state, setState] = React.useState(() => window.localStorage.getItem(key) || defaultValue);
      //
      //   React.useEffect(() => {
      //     if (!isNaN(state) && state != '') {
      //       setState(Number(state));
      //     }
      //     window.localStorage.setItem(key, state);
      //   }, [key, state]);
      //
      //   return [state, setState]
      // }
      //
      // function Greeting () {
      //   const [name, setName] = useLocalStorageState('name');
      //   return (
      //     <div>
      //       <form>
      //         <label htmlFor="name">Name: </label>
      //         <input id="name" value={name} onChange={() => {setName(event.target.value)}}/>
      //       </form>
      //       {name ? <strong>Hello {name}</strong> : "Please type in your name"}
      //     </div>
      //   )
      // }
      //
      // function App () {
      //   const [clicked, setClicked] = useLocalStorageState('clicked', 0);
      //   return (
      //     <>
      //     <button onClick={() => setClicked(clicked + 1)}>{clicked}</button>
      //     <Greeting />
      //     </>
      //   );
      // }

      // Lesson 18 - Manipulating the DOM with React refs
      // function Tilt ({ children }) {
      //   const tiltRef = React.useRef();
      //   React.useEffect(() => {
      //     const tiltNode = tiltRef.current;
      //     const vanillaTiltOptions = {
      //       max: 25,
      //       speed: 400,
      //       glare: true,
      //       'max-glare': 0.5
      //     };
      //     VanillaTilt.init(tiltNode, vanillaTiltOptions);
      //     return () => {
      //       tiltNode.vanillaTilt.destroy();
      //     };
      //   }, []);
      //   return (
      //     <div ref={tiltRef} className="tilt-root">
      //     <div className="tilt-child">{children}</div>
      //     </div>
      //   );
      // }
      //
      // function App () {
      //   const [showTilt, setShowTilt] = React.useState(true);
      //   return (
      //     <div>
      //     <p><input type="checkbox" checked={showTilt} onChange={() => setShowTilt(!showTilt)}/> show tilt</p>
      //     {showTilt ? (
      //       <Tilt>
      //         <div className="totally-centered">vanilla-tilt.js</div>
      //       </Tilt>
      //     ) : null}
      //     </div>
      //   );
      // }

      // Lesson 19 - Understand the react hook flow
      // In this lesson we were figuring out what get executed first. First we have the render, and render end, then we have the

      // Lesson 20 - Make basic forms with React - we were learning to make basic forms
      // Lesson 21 - Make dynamic forms with React - we were learning to dynamicaly change the form with some changes, using onChange event
      // Lesson 22 - Controlling form values with react - we were learning to controll the value of input with double binding with value attribute
      // function App () {
      //   const inputEl = React.useRef();
      //   const [username, setUsername] = React.useState("");
      //   const [isLower, setIsLower] = React.useState(true);
      //
      //   const usernameHandler = (event) => {
      //     event.preventDefault();
      //     setUsername(inputEl.current.value);
      //   }
      //
      //   const lowercaseHandler = () => {
      //     inputEl.current.value = inputEl.current.value.toLowerCase();
      //   }
      //
      //   console.log(username);
      //
      //   return (
      //     <form onSubmit={usernameHandler}>
      //       <div>
      //         <label>Username:</label>
      //         <input ref={inputEl} type="text" onChange={lowercaseHandler}/>
      //       </div>
      //       <button type="submit" disabled={!isLower}>Submit</button>
      //       {isLower ? null : <p style={{color: "red"}}>Username must be in lowercase</p>}
      //     </form>
      //   )
      // }

      // Lesson 23 - Using react error boundaries to handle errors in React components
      // function Boom () {
      //   throw new Error("CABOOM!")
      // }
      //
      // function App () {
      //   const [explode, setExplode] = React.useState(false);
      //   return (
      //     <div>
      //       <button onClick={() => {setExplode(!explode)}}>Bomb</button>
      //       {explode ? <Boom/> : "Push the button"}
      //     </div>
      //   )
      // }

      // Lesson 24 - Use a key prop when Rendering a List with React
      const allItems = [
        {id: "a", value:"apple"},
        {id: "o", value:"orange"},
        {id: "g", value:"grape"},
        {id: "p", value:"pear"}
      ];

      function App () {
        const [items, setItems] = React.useState(allItems);

        function addItem () {
          setItems([...items, allItems.find(i => !items.includes(i))])
        }

        function removeItem (item) {
          setItems(items.filter(i => i !== item))
        }

        return (
          <div>
           <button disabled={items.length >= allItems.length} onClick={addItem}>Add item</button>
           <ul style={{listStyle: "none", padding: 0}}>
            {items.map(item => (
              <li key={item.id}>
                <button onClick={() => removeItem(item)}>Remove</button>
                <label htmlFor={`${item.value}-input`}>{item.value}</label>
                <input id={`${item.value}-input`} defaultValue={item.value}/>
              </li>
            ))}
           </ul>
          </div>
        )
      }

      ReactDOM.render(<App/>, document.getElementById('root'));
    </script>
  </body>
</html>
